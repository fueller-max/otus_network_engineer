### IS-IS

### Цель:

Настроить IS-IS офисе Триада


###  Задание:

1. R23 и R25 находятся в зоне 2222.
2. R24 находится в зоне 24.
3. R26 находится в зоне 26.


### Решение:

### 1. Конфиграция:

#### 1. Разделение сети на зоны.


Графическая схема разделения по зонам  IS-IS офисе Триада представлена ниже. 

![](/Labs/Lab06/pics/ISIS_diagram.jpg)


-  R23 и R25 находятся в зоне 2222 и имеет  AFI.Area ID ( первые два компонента  NET идентификаторами)  равным 49.2222

-  R24 находится в зоне 24 и имеет  AFI.Area ID ( первые два компонента  NET идентификаторами)  равным 49.0024

-  R25 находится в зоне 25 и имеет AFI.Area ID ( первые два компонента  NET идентификаторами)  равным 49.0025

#### 2. Расчет SystemID для каждого из роутеров.
Рассчитаем SystemID для каждого роутера исходя из Loopback IP адреса:

1. Роутер R23, Loopback0 адрес 10.60.100.1
   10.60.100.1 ->  010.060.100.001 -> 0100.6010.0001
   System ID:  0100.6010.0001

2. Роутер R24, Loopback0 адрес 10.60.102.1
   10.60.102.1 ->  010.060.102.001 -> 0100.6010.2001
   System ID:  0100.6010.2001

3. Роутер R25, Loopback0 адрес 10.60.101.1
   10.60.101.1 ->  010.060.101.001 -> 0100.6010.1001
   System ID:  0100.6010.1001   

4. Роутер R26, Loopback0 адрес 10.60.103.1
   10.60.103.1 ->  010.060.103.001 -> 0100.6010.3001
   System ID:  0100.6010.3001     

Такимо образом, полные NET идентификаторы для роутеров выглядят следующим образом:

1. R23:  49.2222.0100.6010.0001.00
2. R24:  49.0024.0100.6010.2001.00
3. R25:  49.2222.0100.6010.1001.00
4. R26:  49.0025.0100.6010.3001.00

#### 2. ISIS конфигурация для каждого из роутеров.

В каждом из роутеров ISIS запускается глобально и также на всех вовлеченных интерфейсах, включая Loopback.

R23:
![](/Labs/Lab06/pics/configs/R23/R23_isis_config.jpg)

R24:
![](/Labs/Lab06/pics/configs/R24/R24_isis_config.jpg)

R25:
![](/Labs/Lab06/pics/configs/R25/R25_isis_config.jpg)

R26:
![](/Labs/Lab06/pics/configs/R26/R26_isis_config.jpg)

Стоит отметить, что ISIS в роутеры R24, R26 настроен только на использование L2 линков, т.к. для них не подразумевается использование L1 линков, т.к. они находятся в разных зонах и не имееют роутеров в своей зоне. 

### 1. Проверка работы ISIS:


#### 1. Проверка состояния и соседства между роутерами:

R23:

![](/Labs/Lab06/pics/neighbor/R23_isis_neighbor.jpg)

R24:

![](/Labs/Lab06/pics/neighbor/R24_isis_neighbor.jpg)

R25:

![](/Labs/Lab06/pics/neighbor/R25_isis_neighbor.jpg)

R26:

![](/Labs/Lab06/pics/neighbor/R26_isis_neighbor.jpg)

Как видно, ожидаемые соседства установлены, все линки находятся в состоянии UP. 



#### 2. Проверка ip маршрутизации в роутерах:

R23:

![](/Labs/Lab06/pics/ip_route/R23_ip_route.jpg)

R24:

![](/Labs/Lab06/pics/ip_route/R24_ip_route.jpg)

R25:

![](/Labs/Lab06/pics/ip_route/R25_ip_route.jpg)

R26:

![](/Labs/Lab06/pics/ip_route/R26_ip_route.jpg)


Как видно, необходиме маршруты между роутерами добавилсь в таблице маршрутизации от протокола ISIS.


#### 3. Проверка связности посредством ping:

Проверим связность сети посредством ping loopback интерфейсов каждого из роутеров:

R23:

![](/Labs/Lab06/pics/ping/R23_ping_all.jpg)

R24:

![](/Labs/Lab06/pics/ping/R24_ping_all.jpg)


R25:

![](/Labs/Lab06/pics/ping/R25_ping_all.jpg)

R26:

![](/Labs/Lab06/pics/ping/R26_ping_all.jpg)


Как видно, что из каждого роутера доступны все три "соседних" роутера.


Актуальные конфигурации роутеров офиса сохранены в папке configs.